<!-- app/views/profile/profileView.html -->
<div class="login-container" style="background: var(--background-dark); min-height: 100vh; display: flex; align-items: center; justify-content: center;">
    <div class="card" style="max-width: 370px; width: 100%; padding: 32px 24px; border-radius: 24px; box-shadow: var(--shadow); background: var(--background-card);">
        <div class="text-center mb-2">
            <img ng-src="{{vm.editedProfile.image && vm.editedProfile.image.medium.url || vm.editedProfile.extra && vm.editedProfile.extra.image}}" alt="Foto de Perfil" style="width: 90px; height: 90px; border-radius: 50%; border: 4px solid var(--primary-color); background: #fff; margin-bottom: 12px; object-fit: cover;">
            <h2 style="color: var(--primary-color); font-weight: bold; margin-bottom: 8px;">Seu Perfil</h2>
        </div>
        <form ng-submit="vm.updateProfile()">
            <div class="form-group">
                <label for="name">Nome Completo</label>
                <input type="text" class="form-control" id="name" ng-model="vm.editedProfile.name" required>
            </div>
            <div class="form-group">
                <label for="phone">Telefone</label>
                <input type="tel" class="form-control" id="phone" ng-model="vm.editedProfile.extra.phone">
            </div>
            <div class="form-group">
                <label for="cpf">CPF</label>
                <input type="text" class="form-control" id="cpf" ng-model="vm.editedProfile.extra.cpf">
            </div>
            <div class="form-group">
                <label for="birthdate">Data de Nascimento</label>
                <input type="date" class="form-control" id="birthdate" ng-model="vm.editedProfile.extra.birthdate">
            </div>
            <div class="form-group">
                <label for="cep">CEP</label>
                <input type="text" class="form-control" id="cep" ng-model="vm.editedProfile.extra.cep">
            </div>
            <div class="form-group" style="text-align:center; margin-bottom: 20px;">
                <input type="file" class="form-control" accept="image/*" file-model="vm.newImageFile">
                <button class="btn btn-primary" style="margin-top:10px; width:100%;" ng-click="vm.uploadProfileImage()">Salvar Imagem</button>
            </div>
            <div class="form-actions" style="display: flex; gap: 12px;">
                <button type="button" class="btn" ng-click="vm.goBack()" style="flex:1; background:#ec0677; color:#fff; border:none; font-weight:bold;">Cancelar</button>
                <button type="submit" class="btn btn-primary" ng-disabled="vm.loading" style="flex:1;">Salvar Alterações</button>
            </div>
            <div class="alert alert-success" ng-if="vm.success" style="margin-top: 12px;">
                {{ vm.success }}
            </div>
            <div class="alert alert-danger" ng-if="vm.error" style="margin-top: 12px;">
                {{ vm.error }}
            </div>
        </form>
        <div class="loading-spinner" ng-if="vm.loading">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Carregando...</span>
            </div>
        </div>
    </div>
</div> 